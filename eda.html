
<!DOCTYPE html>
<html>
  <head>
    <title>Spotify Analysis</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.io/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="icon" type="image/x-icon" href="/favicon.ico/">
    
    <script src="https://kit.fontawesome.com/4acb3cc904.js" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
      .collapsible {
    background-color: #777;
    color: white;
    cursor: pointer;
    padding: 18px;
    width: 100%;
    border: none;
    text-align: left;
    outline: none;
    font-size: 15px;
  }
  
  .active, .collapsible:hover {
    background-color: #555;
  }
  
  .content {
    padding: 0 18px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.2s ease-out;
    background-color: #f1f1f1;
  }  
    
    body, h1,h2,h3,h4,h5,h6 {font-family: "Montserrat", sans-serif}
    .w3-row-padding img {margin-bottom: 12px}
    .bgimg {
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
      background-image: url('https://raw.githubusercontent.com/ameliameyer/music_project/main/images/spotify_grey_logo.jpg');
      min-height: 100%;
    }
      
    </style>
  </head>
<body>

<!-- Sidebar with image -->
<nav class="w3-sidebar w3-hide-medium w3-hide-small" style="width:40%">
  <div class="bgimg"></div>
</nav>

<!-- Hidden Sidebar (reveals when clicked on menu icon)-->
<nav class="w3-sidebar w3-black w3-animate-right w3-xxlarge" style="display:none;padding-top:150px;right:0;z-index:2" id="mySidebar">
  <a href="javascript:void(0)" onclick="closeNav()" class="w3-button w3-black w3-xxxlarge w3-display-topright" style="padding:0 12px;">
    <i class="fa fa-remove"></i>
  </a>
  <div class="w3-bar-block w3-center">
    <a href="index.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black" onclick="closeNav()">Home</a>
    <a href="packages.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black" onclick="closeNav()">Packages</a> 
    <a href="data_prep.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black" onclick="closeNav()">Data Prep</a>
    <a href="eda.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black" onclick="closeNav()">EDA</a>
    <a href="wrapped.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black" onclick="closeNav()">Spotify Wrapped 2022</a>
    <a href="summary.html" class="w3-bar-item w3-button w3-text-grey w3-hover-black" onclick="closeNav()">Summary</a>
  </div>
</nav>

<!-- Page Content -->
<div class="w3-main w3-padding-large" style="margin-left:40%">

  <!-- Menu icon to open sidebar -->
  <span class="w3-button w3-top w3-white w3-xxlarge w3-text-grey w3-hover-text-black" style="width:auto;right:0;" onclick="openNav()"><i class="fa fa-bars"></i></span>

  <!-- Header -->
  <header class="w3-container w3-center" style="padding:128px 16px" id="home">
    <h1 class="w3-jumbo"><b>EDA</b></h1>
    <p>This page covers some of the EDA I performed on my liked songs dataset. </p>
    <a href="https://github.com/ameliameyer/music_project" class="w3-button w3-black w3-padding-large w3-margin-top" target="_blank">
      <i class="fa fa-github-alt"></i> Github Repository
    </a>
    
  </header>

  <!--Top Artists-->
  <div class="w3-content w3-justify w3-text-grey w3-padding-32" id="about">
    <h2>Top Artists</h2>
    <hr class="w3-opacity">
    <p>I started out by comparing my top 10 artists overall to my top 10 artists for 2022 in particular.</p>
  
     <button type="button" class="collapsible">Code</button>
      <div class="content">
      <p> 
        # my top ten added artists overall<br>
        # create top songs variable of the 25 artists with the most songs in the dataset<br>
        top_songs = liked_songs.artists.value_counts()[:25] <br>
        top_songs = top_songs.reset_index() <br>
        # select the columns<br>
        top_songs.columns = ['artist', 'number_of_songs']<br>
        <br>
        # create barplot of the data <br>
        ax = sns.barplot(x = 'number_of_songs', y = 'artist', data = top_songs)<br>
        <br>
        # my top ten artists for 2022 <br>
        # create top songs variable of the 25 artists with the most songs in the dataset, added in 2022 only<br>
        top_songs_2022 =  liked_songs[liked_songs.year == 2022]['artists'].value_counts()[:25]<br>
        top_songs_2022 = top_songs_2022.reset_index()<br>
        # select the columns <br>
        top_songs_2022.columns = ['artist', 'number_of_songs']<br>
        <br>
        # create barplot of the data<br>
        ax = sns.barplot(x = 'number_of_songs', y = 'artist', data = top_songs_2022)
        </p>
      </div>
    
      <img src="images/top_songs.png" alt="Top Songs" width="600" height="600">
      <img src="images/top_songs_2022.png" alt="Top Songs 2022" width="600" height="600">
    
    
    <p>As we can see, the artist I've added the most songs for over the years is Taylor Swift, whereas the artist I've added the most songs for 2022 is 
      5 Seconds of Summer. We can compare this later on to our 2022-Wrapped dataset to see if the artists I've added the most songs for
      are also the artists I listened to the most often in 2022.</p>
    
    <p>We can also take a look at the most popular songs in my dataset. Do the artists I've added the most songs for appear at the top of this list?</p>
    
    <button type="button" class="collapsible">Code</button>
      <div class="content">
      <p> 
        # select cols from liked songs and sort by popularity <br>
        liked_songs[['added_at','name', 'artists', 'popularity', 'genre']].sort_values('popularity', ascending=False)[:20]<br>
        </p>
      </div>
    
      <img src="images/popularity.png" alt="Most Popular Songs" width="600" height="600">
    
    <p>Taylor Swift, Harry Styles, and Conan Gray seem to appear in both places -- all of whom are pop artists. It does appear that most of the songs at the top of the 
    popularity ranking are by pop artists. We can see that the popularity ranking of the top 20 songs ranges from 100 to 89. This suggests that the overall popularity of
    the songs in the dataset is not very high. We can check this with a histplot.</p>
    
    <img src="images/popularity_plot.png" alt="Popularity Plot" width="600" height="600">

    <p>Excluding the 468 songs that have a popularity of 0, the overall popularity of the songs in the dataset is roughly normal with a mean
      score of 45. The median, however, is a popularity score of 48. We can create a violin plot to see what the popularity of the six most frequent genres in the 
      dataset looks like.</p>
    
    <button type="button" class="collapsible">Code</button>
      <div class="content">
      <p> 
        # find the top 6 genres in the dataset <br>
        liked_songs.genre.value_counts().head(6).axes <br>
        <br>
        top_six_genres = liked_songs[liked_songs.genre.isin(['dance pop', 'pop', 'alt z', 'other', 'boy band', 'acoustic pop'])]<br>
        <br>
        # running the violin plot on top 6 genres <br>
        sns.violinplot(x=top_six_genres["genre"], y=top_six_genres["popularity"]);
        </p>
      </div>
    
    <img src="images/genre_pop.png" alt="Popularity By Genre" width="600" height="600">
    
    <p>pop and dance pop seem to have the highest concentration of songs with popularity rankings between 20 and 100. Both bow out around a popularity of 60 meaning 
    most songs in these genres have a popularity of 60. </p>
    
    <!-- Correlation Plot-->
  <div class="w3-padding-32 w3-content w3-text-grey" id="contact" style="margin-bottom:64px">
    <h2>Correlation Plot</h2>
    <hr class="w3-opacity">
    
    <p>We can make a heatmap of the correlation between the variables in the dataset. Correlation values range from -1 to 1. 
      The closer a correlation value is to 1 (positive or negative), the stronger the correlation between the two variables. 
      Variables with a strong positive correlation increase together, whereas variables with a strong negative correlation experience opposing polarization 
      (as one goes up, the other goes down and vice versa). The closer the correlation is to 0, the weaker the correlation. Variables will always have a correlation
      of 1 with themselves. </p>
    
    <button type="button" class="collapsible">Code</button>
      <div class="content">
      <p> 
        # create heatmap for correlation <br>
        plt.figure(figsize=(15, 10)) <br>
        corr = liked_songs.corr() <br>
        sns.heatmap(corr, annot=True, cmap="coolwarm").set_title('Pearson correlation matrix') <br>
        plt.show() <br>
        </p>
      </div>
    
      <img src="images/corr_coef.png" alt="Correlation Heatmap" width="700" height="700">
    
      <p>The two variables with the strongest negative correlation of -0.8 are energy and acousticness. This means that in general, as energy goes up, acoustiness goes down,
        and vice versa. For example, a song that has a higher acoustic level typically has less energy. This makes sense because we typically consider acoustic songs
        to contain more instrumentals (acousticness and instrumentalness have a positive correlation of 0.24. This isn't a very strong correlation but it is worth noting, 
        whereas instrumentalness and energy have a negative correlation of -0.26). <br>
        An example of this correlation is 'Reverie' by Claude Debussy - a classical piano piece - which has an acousticness level of 0.995 and an energy level of 0.00904.
        <br>
        The variables with the strongest positive correlation of 0.78 are energy and loudness. This means that songs with more energy are often louder. <br>
    </p>
    
    <!-- Audio Features vs Genres-->
    <div class="w3-padding-32 w3-content w3-text-grey" id="contact" style="margin-bottom:64px">
    <h2>Audio Features vs Genres</h2>
    <hr class="w3-opacity">
    
    <p>We can also compare each of the audio features with the top six genres in the dataset.</p>
    
     <button type="button" class="collapsible">Code</button>
      <div class="content">
      <p> 
        for col in audio_features:<br>
            plt.figure(figsize=(21,2))<br>
            sns.boxplot(data=top_six_genres, x=col, y="genre", palette="Spectral");
        </p>
      </div>
    
    <img src="images/genre_features.png" alt="Genres vs Features" width="800" height="800">
    
    <p>It makes sense that acoustic pop has a higher level of acousticness, but it might suprising that boy band also has a higher level of acoustiness. It also makes
    sense that boy band has a higher energy level, followed by dance pop, but I would expect dance pop to have a higher danceability level. </p>
      
    <!-- Time Series Plots-->
    <div class="w3-padding-32 w3-content w3-text-grey" id="contact" style="margin-bottom:64px">
    <h2>Time Series</h2>
    <hr class="w3-opacity">
      
      <p>Finally, we'll made time series plots of the feature attributes to visualize how the features of my songs have changed over time.</p>
      
     <button type="button" class="collapsible">Code</button>
      <div class="content">
      <p> 
         def plot_time_series(col_name, title, rolling_window_days):<br>
            daily_series = pd.Series(data=np.array(liked_songs[col_name]), <br> 
                                      name=col_name, <br>
                                      index=liked_songs['added_at']).sort_index()<br>
            <br>
            (daily_series.rolling(window = rolling_window_days)<br>
            .mean()<br>
            .plot(figsize=(30, 10))<br>
            .set(xlabel='date (by day)', ylabel=col_name, title=title))<br>
         <br>
         plt.show()   <br>
         <br>
         plot_time_series('popularity', 'Popularity over time (window = 30 days)', 30)<br>
         plot_time_series('duration_s', 'Duration (s) over time (window = 30 days)', 30)<br>
         plot_time_series('danceability', 'Danceability over time (window = 30 days)', 30)<br>
         plot_time_series('valence', 'Valence over time (window = 30 days)', 30)<br>
         plot_time_series('energy', 'Energy over time (window = 30 days)', 30)<br>
         plot_time_series('tempo', 'Tempo over time (window = 30 days)', 30)<br>
        </p>
      </div>
    
    <img src="images/time_series1.png" alt="Time Series 1" width="800" height="800">
      
    <img src="images/time_series2.png" alt="Time Series 2" width="800" height="800">
     
    <img src="images/time_series3.png" alt="Time Series 3" width="800" height="800">
    
    
      <p>Overall, these plots look stationary, which means the series has constant variance over time, without trend or seasonality. Thus the series should look roughly
      similar at whatever time you view it. If you'd like to read more about stationarity, you can check out 
        <a href="https://otexts.com/fpp2/stationarity.html" target="_blank">Forecasting</a> Rob J Hyndman and George Athanasopoulos or this 
         <a href="https://towardsdatascience.com/stationarity-in-time-series-analysis-90c94f27322" target="_blank">Medium article</a> by Shay Palachy. 
      </p> 
    
<!-- Contact Section -->
  <div class="w3-padding-32 w3-content w3-text-grey" id="contact" style="margin-bottom:64px">
    <h2>Contact Me</h2>
    <hr class="w3-opacity">

    <div class="w3-section">
      <p><i class="fa fa-map-marker fa-fw w3-xxlarge w3-margin-right"></i> San Diego, California, US</p>
      <p><i class="fa fa-phone fa-fw w3-xxlarge w3-margin-right"></i> Phone: +1 9512608344 </p>
      <p><i class="fa fa-envelope fa-fw w3-xxlarge w3-margin-right"> </i> Email: amelianmeyer@gmail.com</p>
    </div>
    
   
  <!-- End Contact Section -->
  </div>  
 
   <!-- Footer. This section contains an ad for W3Schools Spaces. You can leave it to support us. -->
  <footer class="w3-container w3-padding-64 w3-light-grey w3-center w3-opacity w3-xlarge" style="margin:-24px">
    <a class="w3-button w3-round-xxlarge w3-small w3-dark-grey" href="https://ameliameyer.github.io/home/" target="_blank">Return To My Portfolio</a> 
    <br>
    <p class="w3-small">This website was made with W3schools Spaces.</p>
    <!-- End footer -->
  </footer>
  
<!-- END PAGE CONTENT -->
</div>

<script>
// Open and close sidebar
function openNav() {
  document.getElementById("mySidebar").style.width = "60%";
  document.getElementById("mySidebar").style.display = "block";
}

function closeNav() {
  document.getElementById("mySidebar").style.display = "none";
}
  
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}
</script>

</body>
</html>
